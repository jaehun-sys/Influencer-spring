<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
	<title>Result: Who is your real influencer</title>
	<!-- HTML5 Shim and Respond.js IE9 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
	<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
	<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
	<![endif]-->

	<!-- Meta -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="description" content="codedthemes">
	<meta name="keywords" content=", Responsive, Landing, Bootstrap, App, Template, Mobile, iOS, Android, apple, creative app">
	<meta name="author" content="codedthemes">

	<!-- Favicon icon -->
	<link rel="shortcut icon" href="/assets/images/favicon_mic.png" type="image/x-icon">
	<link rel="icon" href="/assets/images/favicon_mic.ico" type="image/x-icon">

	<!-- Google font-->
	<link href="https://fonts.googleapis.com/css?family=Ubuntu:400,500,700" rel="stylesheet">

	<!-- themify -->
	<link rel="stylesheet" type="text/css" href="/assets/icon/themify-icons/themify-icons.css">

	<!-- iconfont -->
	<link rel="stylesheet" type="text/css" href="/assets/icon/icofont/css/icofont.css">

	<!-- simple line icon -->
	<link rel="stylesheet" type="text/css" href="/assets/icon/simple-line-icons/css/simple-line-icons.css">

	<!-- bash syntaxhighlighter css -->
	<link type="text/css" rel="stylesheet" href="/assets/plugins/syntaxhighlighter/styles/shCoreDjango.css" />

   <!-- Required Fremwork -->
   <link rel="stylesheet" type="text/css" href="/assets/plugins/bootstrap/css/bootstrap.min.css">

	<!-- Style.css -->
	<!-- Style.css -->
	<link rel="stylesheet" type="text/css" href="/assets/css/main.css">

	<!-- Responsive.css-->
	<link rel="stylesheet" type="text/css" href="/assets/css/responsive.css">

	<!--color css-->
	<link rel="stylesheet" type="text/css" href="/assets/css/color/color-1.min.css" id="color" />

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
</head>
<style>
    #rowbtn3:hover{
        background-color: #C7E9FE;
    }
    #bioverflow{
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        width: 150px;
        height: 20px;
    }
    #remoCon:hover{
        transition: transform 0.2s linear;
        transform: scale(1.3);
    }
    #MOVE_TOP_BTN {
        position: fixed;
        right: 5%;
        bottom: 50px;
        display: none;
        z-index: 999;
        font-weight: bold;
    }

	/* 로딩 */
    #wrap-loading { /*화면 전체를 어둡게 합니다.*/
        position: fixed;
        left: 0;
        right: 0;
        top: 100;
        bottom: 0;
        /*display: none;*/
        background: rgba(0,0,0,0.2); /*not in ie */
        filter: progid:DXImageTransform.Microsoft.Gradient(startColorstr='#20000000', endColorstr='#20000000'); /* ie */
    }
    .loading { /*로딩 이미지*/
        position: fixed;
        top: 50%;
        left: 50%;
        margin-left: -21px;
        margin-top: -21px;
    }
</style>
<!-- Required Jqurey -->
<script src="/assets/plugins/jquery/dist/jquery.min.js"></script>
<script src="/assets/plugins/jquery-ui/jquery-ui.min.js"></script>
<script src="/assets/plugins/tether/dist/js/tether.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<body class="sidebar-mini fixed">
<script>
    $(function() {
        $(window).scroll(function() {
            if ($(this).scrollTop() > 500) {
                $('#MOVE_TOP_BTN').fadeIn();
            } else {
                $('#MOVE_TOP_BTN').fadeOut();
            }
        });

        $("#MOVE_TOP_BTN").click(function() {
            $('html, body').animate({
                scrollTop : 0
            }, 400);
            return false;
        });
    });

	window.onload = function(){
        setTimeout(function() {
          $('#wrap-loading').hide();
        }, 500);

    }
</script>
	<div class="wrapper">
		<div class="loader-bg">
			<div class="loader-bar">
			</div>
		</div>
		<!-- Navbar-->
        <header th:replace="fragments/header :: header"></header>
        <!-- Side-Nav-->
        <aside th:replace="fragments/sideNav :: sideNav"></aside>

        <!-- Sidebar chat start -->
        <div th:replace="fragments/sideChat :: sideChat"></div>
		<!-- Sidebar chat end-->
		<div class="content-wrapper">
			<!-- Container-fluid starts -->
			<div class="container-fluid">
				<!-- Main content starts -->
				<div class="row">
					<div class="col-sm-12 p-0">
						<div class="main-header">
							<h4 style="font-weight:bold;">인플루언서 추천</h4>
							<ol class="breadcrumb breadcrumb-title breadcrumb-arrow">
								<li class="breadcrumb-item"><a href="/">
									<i class="icofont icofont-home"></i></a>
								</li>
								<li class="breadcrumb-item"><a href="#!">솔루션</a>
								</li>
								<li class="breadcrumb-item"><a href="/recommend-influencer">인플루언서 추천</a>
								</li>
								<li class="breadcrumb-item"><a>결과</a>
								</li>
							</ol>
						</div>
					</div>
				</div>
				<!-- end of row -->


				<!-- Scroll Remote Controller -->
				<a id="MOVE_TOP_BTN" href="#">
					<!--                 <i class="icon icon-arrow-up"></i>-->
					<img src="/assets/images/topAutoScroll.png" id="remoCon" style="margin-bottom: 24px;width: 50px;">
				</a>
				<!-- Scroll Controller end  -->


				<!-- Row start -->
				<div class="row box-shadow">
					<div class="col-sm-12">
						<div class="card">

							<!-- modal -->
							<div class="f-right" style="padding:20px 50px 0px 0px">
								<a href="" data-toggle="modal" data-target="#raised-Modal">
									<i class="icofont icofont-question" style="font-size: 20px;"></i>
								</a>
							</div>
							<!-- modal -->

							<div class="card-header">
								<h5 class="card-header-text" style="color:#2f2c2c;">가중치를 설정하여 랭킹을 조정할 수 있습니다.</h5>
<!--								<div class="f-right">-->    <!-- 모달? -->
<!--									<a href="" data-toggle="modal" data-target="#shadow-left">-->
<!--										<i class="icofont icofont-code-alt"></i>-->
<!--									</a>-->
<!--								</div>-->
									<p style="color:#ed4b3f;">합이 1이 되도록 설정해주세요.</p>
							</div>

							<div class="card-block row box-list" style="padding:0px 30px 0px 30px;">



								<!-- Start a Box p-20 -->
								<div class="col-lg-4">
									<div class="p-20 z-depth-left-0 rf-slider" align="center">
<!--										data-toggle="tooltip" data-placement="top" title=".z-depth-left-0">-->
										<label style="padding:10px">진짜 팔로워</label>
										<input class="waves-effect rf_weight" type="range" name="rf_weight" id="rf-in" min="0" max="1" step="0.1">
<!--										<div id="rf-out"></div>-->
										<span class="rf-value">0.5</span>
									</div>
								</div>
								<div class="col-lg-4">
									<div class="p-20 z-depth-left-1 re-slider" align="center">
<!--										data-toggle="tooltip" data-placement="top" title=".z-depth-left-1">-->
										<label style="padding:10px">반응도</label>
										<input class="waves-effect re_weight" type="range" name="re_weight" id="re-in" min="0" max="1" step="0.1" >
<!--											<div id="re-out"></div>-->
										<span class="re-value">0.5</span>
									</div>
								</div>
								<div class="col-lg-4">
									<div class="p-20 z-depth-left-2 ac-slider" align="center">
<!--										data-toggle="tooltip" data-placement="top" title=".z-depth-left-2">-->
										<label style="padding:10px">활성도</label>
										<input class="waves-effect ac_weight" type="range" name="ac_weight" id="ac-in" min="0" max="1" step="0.1">
<!--										<div id="ac-out"></div>-->
										<span class="ac-value">0.5</span>
									</div>
								</div>

							</div>
							<!-- end of card-content -->

							<div align="center">
								<button type="button" style="margin-left:3px; margin-bottom:17px; height: 27pt;" class="btn btn-inverse-info waves-effect waves-light " id = "buttonA">적용</button>
							</div>


						</div>
						<!-- end of card-main -->

						<!-- start modal -->
						<div class="modal fade modal-flex" id="raised-Modal" tabindex="-1" role="dialog">
							<div class="modal-dialog modal-lg" role="document">
								<div class="modal-content">
									<div class="modal-header">
										<button type="button" class="close" data-dismiss="modal" aria-label="Close">
											<span aria-hidden="true">&times;</span>
										</button>
										<h5 class="modal-title" align="center">인플루언서 추천 결과가 궁금하셨나요?</h5>
									</div>
									<!-- end of modal-header -->
									<div class="modal-body" style="padding:40px;">
										<!--                                    <pre class="brush: html;">-->
										<p style="font-size:1.2em; line-height:2em;">
											&nbsp;&nbsp;&nbsp;&nbsp;
											직접 중요도를 설정하고 종합 점수로 인플루언서를 빠르게 추천 받으세요.<br><br>
										</p>
										<hr>
										<p style="font-size:1.1em;" >
											<br>
											* <strong>'진짜 팔로워'</strong>, <strong>'반응도'</strong>, <strong>'활성도'</strong>의 가중치를 조정할 수 있습니다.<br><br>
											* 연산된 값은 <strong>'진짜 영향력'</strong>에 반영되어 순위가 매겨집니다.<br><br>
											* 프로필 사진을 클릭하면 해당 인플루언서의 <strong>인스타그램 페이지</strong>로 이동합니다.<br><br>
											* 계정명을 클릭하면 해당 인플루언서의 <strong>상세 정보 페이지</strong>로 이동합니다..<br><br>
										</p>
										<!--                                    </pre>-->
									</div>
									<!-- end of modal-body -->
								</div>
								<!-- end of modal-content -->
							</div>
							<!-- end of modal-dialog -->
						</div>
						<!-- end of modal -->

					</div>
					<!-- end of col-sm-12 -->
				</div>
				<!-- end of row -->

				<!-- Row start -->
				<div class="row box-shadow">
					<div class="col-lg-12">
						<div class="card">
							<div class="card-header">
								<h5 class="card-header-text">Result Lists</h5>

							</div>


							<div class="card-block row box-list">
								<!-- Start a Box p-20 -->
								<div class="col-lg-12">
									<div class="col-xs-12 z-depth-left-0">
										<!--										<p class="text-sm-center">Lorem Ipsum is simply dummy text of the printing and typesetting industry.</p>-->
										<div class="col-sm-12 table-responsive" style="padding:20px">


											<div id="wrap-loading">
												<!-- 로딩중 start -->
												<img src="/assets/images/DoubleRing-1s-200px.gif" class="loading" style="width:50px;">
												<!-- 로딩중 end -->
											</div>


											<table align="center" width="95%" style="text-align:center;">
												<thead>
												<tr style="border-bottom:2px solid #eceeef;">
													<th style="text-align:center;">순위</th>
													<th colspan="2" style="text-align:center;">프로필 정보</th>                         <!-- 밑에 2개 컬럼 같이 씀(합침) -->
													<th style="text-align:center;">진짜 영향력</th>
													<th style="text-align:center;">반응도</th>
													<th style="text-align:center;">활성도</th>
													<th style="text-align:center;">팔로워</th>
													<th style="text-align:center;">카테고리</th>
												</tr>
												</thead>

												<tbody th:each="ipet : ${List}" id="rowbtn3" style="border-top: 1px solid #eceeef;">
												<tr><!-- $는 Model 안에서 꺼내 쓰는 것. th:each는 반복문(타임리프 문법임) -->
													<td rowspan="2" width="12%"><span th:text="${ipet.rankno}"></span></td>
													<td rowspan="2" width="12%" align="right" style="padding:10px 20px 10px 0px"><p><img th:src="|/pics/${ipet.username}.jpg|"style="width:70px; height:70px; object-filter:cover;
																																								border: 2.5px solid #EE82EE;
																																								border-radius: 7px;
																																								-moz-border-radius: 160px;
																																								-khtml-border-radius: 160px;
																																								-webkit-border-radius: 160px;
																																								cursor:pointer;"
																					th:onclick="window.open('https://www.instagram.com/'+[[${ipet.username}]])"
																					data-toggle="tooltip" data-placement="top" title data-original-title="인스타그램으로 이동"></p></td>
													<td align="left" style="padding:10px 0px 0px 0px" width="16%">
														<span th:text="${ipet.username}"
															  th:onclick="|location.href='@{/detail-page(username = ${ipet.username})}'|"
															  data-toggle="tooltip" data-placement="right" title data-original-title="상세 결과로 이동"
															  style="font-size:1.1em; font-weight:bold; cursor:pointer;"></span>
													</td>
													<td rowspan="2" width="12%"><span th:text="${ipet.realInf}" style="font-weight:bold;"></span> </td>
													<td rowspan="2" width="12%"><span th:text="${ipet.reaction}"></span></td>
													<td rowspan="2" width="12%"><span th:text="${ipet.activity}"></span></td>
													<td rowspan="2" width="12%"><span th:text="${ipet.followers}"></span></td>
													<td rowspan="2" width="12%"><span th:text="${ipet.cat}"></span></td>
												</tr>
												<tr>
													<td align="left" style="">
														<div id="bioverflow">
															<span th:text="${ipet.bio}"></span>
														</div>
													</td>
												</tr>
												</tbody>
											</table>
										</div>
									</div>
								</div>

							</div>
							<!-- end of card-content -->
						</div>
						<!-- end of card-main -->
					</div>
					<!-- end of col-sm-12 -->
				</div>
				<!-- end of row -->



			</div>
			<!-- end of container fluid -->
			<!-- Container-fluid ends -->



		</div>

		<footer th:replace="fragments/footer :: footer"></footer>

	</div>
	<!-- Warning Section Starts -->
	<!-- Older IE warning message -->
	<!--[if lt IE 9]>
<div class="ie-warning">
    <h1>Warning!!</h1>
    <p>You are using an outdated version of Internet Explorer, please upgrade <br/>to any of the following web browsers to access this website.</p>
    <div class="iew-container">
        <ul class="iew-download">
            <li>
                <a href="http://www.google.com/chrome/">
                    <img src="/assets/images/browser/chrome.png" alt="Chrome">
                    <div>Chrome</div>
                </a>
            </li>
            <li>
                <a href="https://www.mozilla.org/en-US/firefox/new/">
                    <img src="/assets/images/browser/firefox.png" alt="Firefox">
                    <div>Firefox</div>
                </a>
            </li>
            <li>
                <a href="http://www.opera.com">
                    <img src="/assets/images/browser/opera.png" alt="Opera">
                    <div>Opera</div>
                </a>
            </li>
            <li>
                <a href="https://www.apple.com/safari/">
                    <img src="/assets/images/browser/safari.png" alt="Safari">
                    <div>Safari</div>
                </a>
            </li>
            <li>
                <a href="http://windows.microsoft.com/en-us/internet-explorer/download-ie">
                    <img src="/assets/images/browser/ie.png" alt="">
                    <div>IE (9 & above)</div>
                </a>
            </li>
        </ul>
    </div>
    <p>Sorry for the inconvenience!</p>
</div>

<![endif]-->
	<!-- Warning Section Ends -->



<!--   &lt;!&ndash; Required Jqurey &ndash;&gt;-->
<!--   <script src="/assets/plugins/jquery/dist/jquery.min.js"></script>-->
<!--   <script src="/assets/plugins/jquery-ui/jquery-ui.min.js"></script>-->
<!--   <script src="/assets/plugins/tether/dist/js/tether.min.js"></script>-->

   <!-- Required Fremwork -->
   <script src="/assets/plugins/bootstrap/js/bootstrap.min.js"></script>

   <!-- waves effects.js -->
   <script src="/assets/plugins/Waves/waves.min.js"></script>

   <!-- Scrollbar JS-->
   <script src="/assets/plugins/jquery-slimscroll/jquery.slimscroll.js"></script>
   <script src="/assets/plugins/jquery.nicescroll/jquery.nicescroll.min.js"></script>

   <!--classic JS-->
   <script src="/assets/plugins/classie/classie.js"></script>

   <!-- notification -->
   <script src="/assets/plugins/notification/js/bootstrap-growl.min.js"></script>

	<!-- Highliter js -->
	<script type="text/javascript" src="/assets/plugins/syntaxhighlighter/scripts/shCore.js"></script>
	<script type="text/javascript" src="/assets/plugins/syntaxhighlighter/scripts/shBrushJScript.js"></script>
	<script type="text/javascript" src="/assets/plugins/syntaxhighlighter/scripts/shBrushXml.js"></script>
	<script type="text/javascript">
		SyntaxHighlighter.all();
	</script>

	<!-- custom js -->
	<script type="text/javascript" src="/assets/js/main.min.js"></script>
	<script type="text/javascript" src="/assets/pages/elements.js"></script>
	<script src="/assets/js/menu.min.js"></script>

	<script>
				$("button[id='buttonA']").click(function(){
					console.log('가중치 쨔스쨔스쨔스');

<!--						if (confirm("ㄱ?")) {-->
						var html = "";
						var uri = '/recommend-influencer/results2'
						let redirect = window.location.href;
						let rf = $("input[id='rf-in']").val();
						let re = $("input[id='re-in']").val();
						let ac = $("input[id='ac-in']").val();
						html += '<form name="dataForm" action="'+uri+'" method="post">';
						html += '<input type="hidden" name="redirect" value="'+redirect+'" />';
						html += '<input type="hidden" name="rf_weight" value="'+rf+'" />';
						html += '<input type="hidden" name="re_weight" value="'+re+'" />';
						html += '<input type="hidden" name="ac_weight" value="'+ac+'" />';
						html += '</form>';
						var decodeStr = decodeURI(html);
						console.log(decodeStr);
						$("body").append(decodeStr);
<!--						$("#dataForm").submit();-->
						document.dataForm.submit();
<!--						}-->


					if(parseFloat(rf) + parseFloat(re) + parseFloat(ac) != 1){
						alert("가중치의 합을 1로 설정하여 주세요..!");
						location.reload();
					}

				 });

<!--	document.querySelector('#rf-in').addEventListener('input',e=>{-->
<!--		document.querySelector('#rf-out').innerHTML= e.target.value;-->
<!--	});-->
<!--	document.querySelector('#re-in').addEventListener('input',e=>{-->
<!--		document.querySelector('#re-out').innerHTML= e.target.value;-->
<!--	});-->
<!--	document.querySelector('#ac-in').addEventListener('input',e=>{-->
<!--		document.querySelector('#ac-out').innerHTML= e.target.value;-->
<!--	});-->

	var rangeSlider1=function(){
		var slider = $('.rf-slider'),	//div 클래스 이름
			range = $('.rf_weight'),	//input 클래스 이름
			value = $('.rf-value');	//span 클래스 이름(출력 글자)
		slider.each(function(){
			value.each(function(){
				var value = $(this).prev().attr('value');
				$(this).html(value);
			});
			range.on('input', function(){
				$(this).next(value).html(this.value);
			});
		});
	};
	var rangeSlider2=function(){
		var slider = $('.re-slider'),	//div 클래스 이름
			range = $('.re_weight'),	//input 클래스 이름
			value = $('.re-value');	//span 클래스 이름(출력 글자)
		slider.each(function(){
			value.each(function(){
				var value = $(this).prev().attr('value');
				$(this).html(value);
			});
			range.on('input', function(){
				$(this).next(value).html(this.value);
			});
		});
	};
	var rangeSlider3=function(){
		var slider = $('.ac-slider'),	//div 클래스 이름
			range = $('.ac_weight'),	//input 클래스 이름
			value = $('.ac-value');	//span 클래스 이름(출력 글자)
		slider.each(function(){
			value.each(function(){
				var value = $(this).prev().attr('value');
				$(this).html(value);
			});
			range.on('input', function(){
				$(this).next(value).html(this.value);
			});
		});
	};
	rangeSlider1();
	rangeSlider2();
	rangeSlider3();
	</script>

</body>

</html>
